<?xml version="1.0" encoding="UTF-8"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://qconsulting.ca/fo3/ModConfig5.0.xsd">

    <moduleName>SeverActions - SkyrimNet Action Pack</moduleName>

    <requiredInstallFiles>
        <folder source="00 Core" destination="" priority="0"/>
    </requiredInstallFiles>

    <installSteps order="Explicit">

        <!-- Page 1: Action Modules -->
        <installStep name="Action Modules">
            <optionalFileGroups order="Explicit">

                <group name="Select which action modules to install:" type="SelectAny">
                    <plugins order="Explicit">

                        <plugin name="Basic Actions">
                            <description>Core follower, item, and reading actions:
• Start/Stop Following
• Wait Here
• Relax / Stop Relaxing
• Pick Up Item (items, flora, ingredients)
• Use Item
• Give Item
• Bring Item
• Loot Container
• Loot Corpse
• Read Book / Stop Reading

Recommended for most users.</description>
                            <files>
                                <folder source="Actions/Basic" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Recommended"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Travel Actions">
                            <description>NPC travel and navigation:
• Travel to Place (named locations)
• Travel to Location (coordinates)
• Change Travel Speed
• Cancel Travel

Allows NPCs to travel to cities, inns, and other locations.</description>
                            <files>
                                <folder source="Actions/Travel" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Recommended"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Combat Actions">
                            <description>Combat-related behaviors:
• Attack Target
• Cease Fighting
• Yield

Allows NPCs to engage or disengage from combat.</description>
                            <files>
                                <folder source="Actions/Combat" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Recommended"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Outfit Actions">
                            <description>Clothing and armor management:
• Equip Armor - Equip one or more items from inventory by name (comma-separate for multiple)
• Unequip Armor - Remove one or more worn items by name (comma-separate for multiple)
• Save Outfit Preset - Snapshot current outfit under a name
• Apply Outfit Preset - Strip and re-equip a saved preset
• Get Dressed - Re-equip previously removed clothing
• Undress - Remove all worn armor and clothing

Outfits persist across cell transitions via ReferenceAlias-based locking.</description>
                            <files>
                                <folder source="Actions/Outfit" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Recommended"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Furniture Actions">
                            <description>Furniture interaction:
• Sit or Lay Down
• Stop Using Furniture

Allows NPCs to use chairs, beds, and other furniture.</description>
                            <files>
                                <folder source="Actions/Furniture" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Recommended"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Economy Actions">
                            <description>Economic interactions and debt system:
• Give Gold - NPC gives gold as gift, tip, or reward
• Collect Payment - NPC receives gold owed to them (automatically reduces open debts)
• Extort Gold - NPC forcibly takes gold through intimidation
• Create Debt - Establish a one-time debt with optional due dates and credit limits
• Create Recurring Debt - Set up recurring charges (rent, protection money, subscriptions)
• Forgive Debt - Creditor forgives what is owed
• Add to Debt - Add charges to existing debts (e.g. "another round on my tab")

Full debt tracking with credit limits, due dates, recurring charges, auto-growth from item gifts, and automatic guard reporting when debts go severely overdue.
Install with Merchant Prompts for full economy awareness including debt context.</description>
                            <files>
                                <folder source="Actions/Economy" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Crafting Actions">
                            <description>Crafting system:
• Craft Item (smithing/smelting)
• Brew Potion (alchemy)
• Cook Meal (cooking)

Allows NPCs to craft items at workbenches, alchemy labs, and cooking pots.</description>
                            <files>
                                <folder source="Actions/Crafting" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Arrest Actions">
                            <description>Guard arrest, dispatch, and crime system:
• Arrest Player - Guards confront player about bounty
• Arrest NPC - Guards arrest and escort NPCs to jail
• Dispatch Guard to Arrest - Send guards to arrest distant NPCs across cells
• Dispatch Guard to Home - Investigate an NPC's home for evidence
• Add Bounty to Player - Track crimes in holds
• Accept/Reject Persuasion - Handle persuasion attempts
• Free From Jail - Release imprisoned NPCs
• Order Jailed / Order Release - Judgment phase after prisoner delivery

Full cross-cell dispatch with off-screen escort, combat suppression, and judgment.</description>
                            <files>
                                <folder source="Actions/Arrest" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Follower Actions">
                            <description>Companion recruitment and management:
• Set Companion - Make an NPC your companion (first time or re-recruit)
• Dismiss Follower - Part ways with a companion
• Companion Wait - Tell a companion to wait at current location
• Companion Follow - Resume following after waiting
• Assign Home - Set where a follower lives when dismissed
• Set Combat Style - Change follower tactics (aggressive, defensive, ranged, healer, balanced)
• Adjust Relationship - AI-driven rapport/trust/loyalty/mood changes from conversation
• Follower Leaves - Companion decides to leave on their own (very rare, severe mistreatment)

Makes recruited NPCs proper Skyrim followers (teammate status, faction membership).
Integrates with Nether's Follower Framework (NFF) or Extensible Follower Framework (EFF) when installed.
Falls back to vanilla follower mechanics when neither framework is present.
Adds a relationship system with rapport, trust, loyalty, and mood that evolves over time.
Install with Follower Prompts for full companion awareness.</description>
                            <files>
                                <folder source="Actions/Follower" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Recommended"/>
                            </typeDescriptor>
                        </plugin>

                    </plugins>
                </group>

            </optionalFileGroups>
        </installStep>

        <!-- Page 2: Prompt Modules -->
        <installStep name="Prompt Modules (Context Awareness)">
            <optionalFileGroups order="Explicit">

                <group name="Select which context prompts to install:" type="SelectAny">
                    <plugins order="Explicit">

                        <plugin name="Core Awareness Prompts">
                            <description>Basic NPC awareness:
• Known Spells - NPCs know what spells they have
• Gold Awareness - NPCs know their gold amount
• Inventory Awareness - NPCs know their items
• Nearby Objects - NPCs aware of surroundings (items, flora, furniture)
• Book Reading Rules - Prevents NPCs from fabricating book content

Recommended for immersion.</description>
                            <files>
                                <folder source="Prompts/Core" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Recommended"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Combat Awareness Prompt">
                            <description>Combat context:
• Combat Awareness - NPCs understand combat situations

Helps NPCs respond appropriately during fights.</description>
                            <files>
                                <folder source="Prompts/Combat" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Recommended"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Survival Prompt">
                            <description>Survival needs awareness:
• Hunger Status - NPCs aware of hunger levels
• Cold Status - NPCs aware of cold/warmth
• Tiredness Status - NPCs aware of fatigue levels</description>
                            <files>
                                <folder source="Prompts/Survival" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Faction/Guild Reputation Prompt">
                            <description>Faction awareness:
• Guild Reputation - NPCs know your faction standings

Large prompt with detailed guild information.</description>
                            <files>
                                <folder source="Prompts/Faction" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Arrest/Crime Prompts">
                            <description>Crime, imprisonment, and debt enforcement awareness:
• Guard Bounty Awareness - Guards know player's bounty per hold
• Debt Complaint Awareness - Guards see complaints from creditors when debts go severely overdue
• Jailed NPC Status - Imprisoned NPCs aware of situation
• Persuasion Mode - Guards evaluate player arguments during confrontations
• Judgment Mode - Authority figures preside over arrested NPCs

Works with Arrest Actions for full crime system.
Debt complaints integrate with Economy Actions — guards can confront players about unpaid debts.</description>
                            <files>
                                <folder source="Prompts/Arrest" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Follower Companion Prompts">
                            <description>Companion relationship awareness:
• Follower Context - NPCs know their rapport, trust, mood, combat style, and home assignment
• Follower Action Guidance - Rules for when to use companion management actions

Companions can refuse orders based on low trust, express opinions, and remember past recruitment history.
Install with Follower Actions for the full companion system.</description>
                            <files>
                                <folder source="Prompts/Follower" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Recommended"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Enhanced Action Selector">
                            <description>Replaces SkyrimNet's native action selector prompt with an improved version optimized for SeverActions' streamlined YAML descriptions.

Features:
• Reads the full player-NPC exchange (pulls player speech from event history) for better action matching
• Shows parameter schemas so the LLM uses correct parameter names
• Player-intent and implicit-agreement guidelines reduce missed actions
• One-action-per-turn enforcement prevents duplicate action calls
• Exchange-centric design works better across all model backends (Claude, Grok, etc.)

Recommended if you are using SeverActions' action YAMLs. Ensures the LLM picks the right action with the right parameters.</description>
                            <files>
                                <folder source="Prompts/ActionSelector" destination="" priority="2"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Enhanced Target Selectors">
                            <description>Replaces SkyrimNet's default target selector prompts with improved versions:
• Dialogue Speaker Selector - Better criteria for choosing who speaks next, with companion awareness and conversation momentum
• Player Dialogue Target Selector - Smarter routing of player speech using crosshair target, distance, name references, and NPC-to-NPC dialogue support

Improves conversation flow and reduces cases where the wrong NPC responds or conversations stall prematurely.</description>
                            <files>
                                <folder source="Prompts/TargetSelectors" destination="" priority="2"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                    </plugins>
                </group>

                <group name="Merchant Inventory Prompt - Select ONE (or none):" type="SelectAtMostOne">
                    <plugins order="Explicit">

                        <plugin name="Merchant Prompt - Show Anywhere">
                            <description>Merchant inventory and debt awareness:
• Merchant Inventory - Merchants display their inventory and pricing at all times, regardless of location
• Debt Context - NPCs involved in debts see their financial obligations (who owes what, due dates, credit limits)

Use this if you want merchants to always be ready to trade no matter where you encounter them.
Includes debt awareness for the Economy Actions debt system.</description>
                            <files>
                                <folder source="Prompts/Economy-Anywhere" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Merchant Prompt - Location Restricted">
                            <description>Merchant inventory and debt awareness:
• Merchant Inventory - Merchants only display their inventory when inside recognized shop locations (inns, stores, market stalls, etc.)
• Debt Context - NPCs involved in debts see their financial obligations (who owes what, due dates, credit limits)

More immersive - merchants won't try to sell you things while walking down the road.
Includes debt awareness for the Economy Actions debt system.</description>
                            <files>
                                <folder source="Prompts/Economy-LocationOnly" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                    </plugins>
                </group>

            </optionalFileGroups>
        </installStep>

        <!-- Page 3: Adult Content -->
        <installStep name="Adult Content (Optional)">
            <optionalFileGroups order="Explicit">

                <group name="Arousal Actions - Select ONE (or none):" type="SelectAtMostOne">
                    <plugins order="Explicit">

                        <plugin name="OSL Aroused - Modify Arousal Action">
                            <description>Arousal action for OSL Aroused:
• Modify Arousal - Adjust NPC arousal levels

Requires OSL Aroused mod.</description>
                            <files>
                                <folder source="Actions/Adult-OSLAroused" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="SL Aroused - Modify Arousal Action">
                            <description>Arousal action for SexLab Aroused:
• Modify Arousal (SLO) - Adjust NPC arousal levels

Requires SexLab Aroused mod.</description>
                            <files>
                                <folder source="Actions/Adult-SLOAroused" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                    </plugins>
                </group>

                <group name="Arousal Prompts - Select ONE (or none):" type="SelectAtMostOne">
                    <plugins order="Explicit">

                        <plugin name="OSL Aroused - Arousal Awareness Prompt">
                            <description>Arousal awareness for OSL Aroused:
• NPCs aware of their arousal state

Requires OSL Aroused mod.</description>
                            <files>
                                <folder source="Prompts/Adult-OSLAroused" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="SL Aroused - Arousal Awareness Prompt">
                            <description>Arousal awareness for SexLab Aroused:
• NPCs aware of their arousal state

Requires SexLab Aroused mod.</description>
                            <files>
                                <folder source="Prompts/Adult-SLOAroused" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                    </plugins>
                </group>

                <group name="Fertility Content:" type="SelectAny">
                    <plugins order="Explicit">

                        <plugin name="Fertility Status Prompt">
                            <description>Fertility awareness:
• NPCs aware of pregnancy/fertility status

Requires Fertility Mode mod.</description>
                            <files>
                                <folder source="Prompts/Adult-Fertility" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                        <plugin name="Abort Pregnancy Trigger">
                            <description>Fertility trigger:
• Abort Pregnancy event trigger

Requires Fertility Mode mod.</description>
                            <files>
                                <folder source="Triggers/Adult" destination="" priority="1"/>
                            </files>
                            <typeDescriptor>
                                <type name="Optional"/>
                            </typeDescriptor>
                        </plugin>

                    </plugins>
                </group>

            </optionalFileGroups>
        </installStep>

    </installSteps>

</config>
